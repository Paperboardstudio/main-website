"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[929],{929:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(43),o=n(746),i=n(26),s=n(408);function a(e){let{all:t,scene:n,camera:i}=e;const a=(0,o.A)((e=>{let{gl:t}=e;return t})),c=(0,o.A)((e=>{let{camera:t}=e;return t})),l=(0,o.A)((e=>{let{scene:t}=e;return t}));return r.useLayoutEffect((()=>{const e=[];t&&(n||l).traverse((t=>{!1===t.visible&&(e.push(t),t.visible=!0)})),a.compile(n||l,i||c);const r=new s.WebGLCubeRenderTarget(128);new s.CubeCamera(.01,1e5,r).update(a,n||l),r.dispose(),e.forEach((e=>e.visible=!1))}),[]),null}var c=n(168),l=n(391);const u=new s.Vector3,d=new s.Vector3,m=new s.Vector3,f=new s.Vector2;function h(e,t,n){const r=u.setFromMatrixPosition(e.matrixWorld);r.project(t);const o=n.width/2,i=n.height/2;return[r.x*o+o,-r.y*i+i]}const p=e=>Math.abs(e)<1e-10?0:e;function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let o=0;16!==o;o++)r+=p(t[o]*e.elements[o])+(15!==o?",":")");return n+r}const x=(g=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>v(e,g));var g;const y=(e,t)=>{return v(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};const w=r.forwardRef(((e,t)=>{let{children:n,eps:i=.001,style:a,className:v,prepend:g,center:w,fullscreen:M,portal:b,distanceFactor:P,sprite:E=!1,transform:W=!1,occlude:S,onOcclude:C,castShadow:z,receiveShadow:j,material:A,geometry:R,zIndexRange:F=[16777271,0],calculatePosition:I=h,as:L="div",wrapperClass:N,pointerEvents:T="auto",...k}=e;const{gl:O,camera:H,scene:V,size:_,raycaster:D,events:G,viewport:Z}=(0,o.A)(),[q]=r.useState((()=>document.createElement(L))),B=r.useRef(),J=r.useRef(null),K=r.useRef(0),Q=r.useRef([0,0]),U=r.useRef(null),X=r.useRef(null),Y=(null==b?void 0:b.current)||G.connected||O.domElement.parentNode,$=r.useRef(null),ee=r.useRef(!1),te=r.useMemo((()=>S&&"blending"!==S||Array.isArray(S)&&S.length&&function(e){return e&&"object"===typeof e&&"current"in e}(S[0])),[S]);r.useLayoutEffect((()=>{const e=O.domElement;S&&"blending"===S?(e.style.zIndex="".concat(Math.floor(F[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[S]),r.useLayoutEffect((()=>{if(J.current){const e=B.current=l.createRoot(q);if(V.updateMatrixWorld(),W)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=I(J.current,H,_);q.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return Y&&(g?Y.prepend(q):Y.appendChild(q)),()=>{Y&&Y.removeChild(q),e.unmount()}}}),[Y,W]),r.useLayoutEffect((()=>{N&&(q.className=N)}),[N]);const ne=r.useMemo((()=>W?{position:"absolute",top:0,left:0,width:_.width,height:_.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:w?"translate3d(-50%,-50%,0)":"none",...M&&{top:-_.height/2,left:-_.width/2,width:_.width,height:_.height},...a}),[a,w,M,_,W]),re=r.useMemo((()=>({position:"absolute",pointerEvents:T})),[T]);r.useLayoutEffect((()=>{var e,o;(ee.current=!1,W)?null==(e=B.current)||e.render(r.createElement("div",{ref:U,style:ne},r.createElement("div",{ref:X,style:re},r.createElement("div",{ref:t,className:v,style:a,children:n})))):null==(o=B.current)||o.render(r.createElement("div",{ref:t,style:ne,className:v,children:n}))}));const oe=r.useRef(!0);(0,o.C)((e=>{if(J.current){H.updateMatrixWorld(),J.current.updateWorldMatrix(!0,!1);const e=W?Q.current:I(J.current,H,_);if(W||Math.abs(K.current-H.zoom)>i||Math.abs(Q.current[0]-e[0])>i||Math.abs(Q.current[1]-e[1])>i){const t=function(e,t){const n=u.setFromMatrixPosition(e.matrixWorld),r=d.setFromMatrixPosition(t.matrixWorld),o=n.sub(r),i=t.getWorldDirection(m);return o.angleTo(i)>Math.PI/2}(J.current,H);let n=!1;te&&(Array.isArray(S)?n=S.map((e=>e.current)):"blending"!==S&&(n=[V]));const r=oe.current;if(n){const e=function(e,t,n,r){const o=u.setFromMatrixPosition(e.matrixWorld),i=o.clone();i.project(t),f.set(i.x,i.y),n.setFromCamera(f,t);const s=n.intersectObjects(r,!0);if(s.length){const e=s[0].distance;return o.distanceTo(n.ray.origin)<e}return!0}(J.current,H,D,n);oe.current=e&&!t}else oe.current=!t;r!==oe.current&&(C?C(!oe.current):q.style.display=oe.current?"block":"none");const o=Math.floor(F[0]/2),i=S?te?[F[0],o]:[o-1,0]:F;if(q.style.zIndex="".concat(function(e,t,n){if(t instanceof s.PerspectiveCamera||t instanceof s.OrthographicCamera){const r=u.setFromMatrixPosition(e.matrixWorld),o=d.setFromMatrixPosition(t.matrixWorld),i=r.distanceTo(o),s=(n[1]-n[0])/(t.far-t.near),a=n[1]-s*t.far;return Math.round(s*i+a)}}(J.current,H,i)),W){const[e,t]=[_.width/2,_.height/2],n=H.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:o,left:i,bottom:s,right:a}=H,c=x(H.matrixWorldInverse),l=r?"scale(".concat(n,")translate(").concat(p(-(a+i)/2),"px,").concat(p((o+s)/2),"px)"):"translateZ(".concat(n,"px)");let u=J.current.matrixWorld;E&&(u=H.matrixWorldInverse.clone().transpose().copyPosition(u).scale(J.current.scale),u.elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),q.style.width=_.width+"px",q.style.height=_.height+"px",q.style.perspective=r?"":"".concat(n,"px"),U.current&&X.current&&(U.current.style.transform="".concat(l).concat(c,"translate(").concat(e,"px,").concat(t,"px)"),X.current.style.transform=y(u,1/((P||10)/400)))}else{const t=void 0===P?1:function(e,t){if(t instanceof s.OrthographicCamera)return t.zoom;if(t instanceof s.PerspectiveCamera){const n=u.setFromMatrixPosition(e.matrixWorld),r=d.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,i=n.distanceTo(r);return 1/(2*Math.tan(o/2)*i)}return 1}(J.current,H)*P;q.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}Q.current=e,K.current=H.zoom}}if(!te&&$.current&&!ee.current)if(W){if(U.current){const e=U.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=H;if(t||R)k.scale&&(Array.isArray(k.scale)?k.scale instanceof s.Vector3?$.current.scale.copy(k.scale.clone().divideScalar(1)):$.current.scale.set(1/k.scale[0],1/k.scale[1],1/k.scale[2]):$.current.scale.setScalar(1/k.scale));else{const t=(P||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;$.current.scale.set(n,r,1)}ee.current=!0}}}else{const t=q.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/Z.factor,n=t.clientWidth*e,r=t.clientHeight*e;$.current.scale.set(n,r,1),ee.current=!0}$.current.lookAt(e.camera.position)}}));const ie=r.useMemo((()=>({vertexShader:W?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[W]);return r.createElement("group",(0,c.A)({},k,{ref:J}),S&&!te&&r.createElement("mesh",{castShadow:z,receiveShadow:j,ref:$},R||r.createElement("planeGeometry",null),A||r.createElement("shaderMaterial",{side:s.DoubleSide,vertexShader:ie.vertexShader,fragmentShader:ie.fragmentShader})))}));var M=n(579);const b=()=>{if("undefined"===typeof window)return!1;const e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)||e.includes("mac")&&"ontouchend"in document},P=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=()=>{t(window.innerWidth<768||"ontouchstart"in window)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e},E=()=>{const{gl:e}=(0,o.A)();return(0,r.useEffect)((()=>()=>{e.dispose()}),[e]),null};function W(){const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!0),o=P(),[s]=(0,r.useState)((()=>b())),c=o||s;return(0,r.useEffect)((()=>{const t=e.current;if(!t)return;const r=new IntersectionObserver((e=>{let[t]=e;n(t.isIntersecting)}),{threshold:0,rootMargin:"100px"});return r.observe(t),()=>r.disconnect()}),[]),s?(0,M.jsx)("div",{className:"transition-page",ref:e,children:(0,M.jsx)("div",{style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",padding:"0 1rem",boxSizing:"border-box"},children:(0,M.jsx)("div",{className:"transition-message",children:"We provide entrepreneurs and companies around the world with efficient and innovative tools. Leveraging cutting-edge technology and creativity, we are committed to creating solutions that deliver results for our clients."})})}):(0,M.jsx)("div",{className:"transition-page",ref:e,children:(0,M.jsxs)(i.Hl,{gl:{antialias:!1,powerPreference:"high-performance"},className:"canvas",style:{touchAction:"pan-y"},frameloop:t?"always":"never",dpr:c?[1,1.5]:[1,2],children:[(0,M.jsx)(E,{}),(0,M.jsx)(a,{}),(0,M.jsx)(w,{style:{position:"absolute",top:c?"35%":"calc(50% + 40px)",left:"50%",transform:"translate(-50%, -50%)",zIndex:0,pointerEvents:"none"},children:(0,M.jsx)("div",{className:"transition-message",children:"We provide entrepreneurs and companies around the world with efficient and innovative tools. Leveraging cutting-edge technology and creativity, we are committed to creating solutions that deliver results for our clients."})})]})})}}}]);
//# sourceMappingURL=929.09c7400a.chunk.js.map