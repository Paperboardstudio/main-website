.blur-up-image {
  position: relative;
  overflow: hidden;
  background-color: var(--placeholder-color, #111);

  // Aspect ratio container - prevents layout shift
  &::before {
    content: '';
    display: block;
    padding-bottom: calc(100% / var(--aspect-ratio, 1.78)); // Default 16:9
  }

  // Fill mode - stretches to fill parent container (for cards with defined dimensions)
  &--fill {
    position: absolute;
    inset: 0;

    &::before {
      display: none; // No aspect ratio needed, parent defines size
    }
  }

  &__placeholder {
    position: absolute;
    inset: 0;
    background-color: var(--placeholder-color, #111);
    // Removed shimmer animation for better performance
  }

  &__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;

    // Start blurred and scaled slightly
    filter: blur(20px);
    transform: scale(1.1);
    opacity: 0;

    // Apple-style easing curves for smooth reveal
    // cubic-bezier(0.25, 0.46, 0.45, 0.94) - Apple's standard ease-out
    transition:
      filter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94),
      transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94),
      opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  // Loaded state - reveal the sharp image
  &--loaded {
    .blur-up-image__placeholder {
      opacity: 0;
      transition: opacity 0.4s ease-out 0.2s;
    }

    .blur-up-image__img {
      filter: blur(0);
      transform: scale(1);
      opacity: 1;
    }
  }

  // Respect reduced motion preference
  @media (prefers-reduced-motion: reduce) {
    .blur-up-image__img {
      filter: none;
      transform: none;
      transition: opacity 0.2s ease-out;
    }

    &--loaded .blur-up-image__placeholder {
      transition: opacity 0.2s ease-out;
    }
  }
}
